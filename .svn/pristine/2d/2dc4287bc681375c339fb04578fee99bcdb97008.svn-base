<?php $__env->startSection('report', 'active'); ?>
<?php $__env->startSection('report.productExecuteRate', 'active'); ?>
<?php $__env->startSection('content'); ?>
    <table class="table table-bordered" style="">
        <?php $__currentLoopData = $Project; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $list): $__env->incrementLoopIndices(); $loop = $__env->getFirstLoop(); ?>
            <?php  
                $DetailList = $Detail
                    ->get();
                $Non = "--";
             ?>
            <?php if($DetailList->count() > 0): ?>
                <tr style="font-weight:bolder;">
                    <td colspan="10">
                        專案：[<?php echo e($list->referenceNumber); ?>]<?php echo e($list->referenceName); ?><br/>
                        客戶名稱：<?php echo e($list->clientName); ?>

                    </td>
                </tr>
                <tr style="background-color:#eee;">
                    <td>產品代號</td>
                    <td>產品名稱</td>
                    <td class="text-center">前置</td>
                    <td class="text-center">設計</td>
                    <td class="text-center">試樣</td>
                    <td class="text-center">量產</td>
                    <td class="text-center">確認</td>
                    <td class="text-center">出貨</td>
                    <td>工期</td>
                    <td>完工期限</td>
                </tr>
                <?php $__currentLoopData = $DetailList; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $d): $__env->incrementLoopIndices(); $loop = $__env->getFirstLoop(); ?>
                    <?php if($d->ID === $list->ID): ?>
                        <tr style="vertical-align:middle;">
                            <td style="vertical-align:middle;"><?php echo e($d->productNumber); ?></td>
                            <td style="vertical-align:middle;"><?php echo e($d->productName); ?></td>
                            <td style="vertical-align:middle;" class="text-right" width="65"><?php echo e(isset($d->phase0) ? number_format($d->phase0,1).'%' : $Non); ?></td>
                            <td style="vertical-align:middle;" class="text-right" width="65"><?php echo e(isset($d->phase1) ? number_format($d->phase1,1).'%' : $Non); ?></td>
                            <td style="vertical-align:middle;" class="text-right" width="65"><?php echo e(isset($d->phase2) ? number_format($d->phase2,1).'%' : $Non); ?></td>
                            <td style="vertical-align:middle;" class="text-right" width="65"><?php echo e(isset($d->phase3) ? number_format($d->phase3,1).'%' : $Non); ?></td>
                            <td style="vertical-align:middle;" class="text-right" width="65"><?php echo e(isset($d->phase9) ? number_format($d->phase9,1).'%' : $Non); ?></td>
                            <td style="vertical-align:middle;" class="text-right" width="65"><?php echo e(isset($d->phase10) ? number_format($d->phase10,1).'%' : $Non); ?></td>
                            <td style="vertical-align:middle;" width="110"><?php echo e(date('Y-m-d', strtotime($d->startDate))); ?>~
                                <br/><?php echo e(date('Y-m-d', strtotime($d->endDate))); ?></td>
                            <td style="vertical-align:middle;" width="100"><?php echo e(date('Y-m-d', strtotime($d->deadline))); ?></td>
                        </tr>
                    <?php endif; ?>
                <?php endforeach; $__env->popLoop(); $loop = $__env->getFirstLoop(); ?>
            <?php endif; ?>
            <tr style="height:3px;"></tr>
        <?php endforeach; $__env->popLoop(); $loop = $__env->getFirstLoop(); ?>    
    </table>
<?php $__env->stopSection(); ?>
<?php echo $__env->make('layouts.masterpage', array_except(get_defined_vars(), array('__data', '__path')))->render(); ?>